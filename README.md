# LifeLine Watch: 생명을 지키는 웨어러블 헬스케어

[![Build Status](https://img.shields.io/badge/build-passing-brightgreen)](https://github.com)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

**팀: 워치를 워치**

경기대학교 컴퓨터공학부 캡스톤디자인 프로젝트입니다.

---

## 📖 개요

**LifeLine Watch**는 독거노인을 보호하기 위해 설계된 지능형 건강 모니터링 시스템입니다. 웨어러블 기술과 AI를 활용하여 응급 상황을 실시간으로 감지하고, 사회복지사에게 즉각적이고 이해하기 쉬운 상태 업데이트를 제공하며, 더 나은 소통과 돌봄을 가능하게 합니다.

## 🚨 문제점

1.  **초고령화 사회 진입:** 2024년 기준, 대한민국은 65세 이상 인구가 20%를 돌파하며 초고령화 사회에 진입했습니다. 65세 이상 1인 가구 비중 역시 22%에 달하며 독거노인 비율이 지속적으로 증가하고 있습니다. 이들은 응급상황 발생 시 즉각적인 구조가 어려운 환경에 놓여 있습니다.

2.  **기존 시스템의 한계:** 현재 정부에서 제공하는 응급안전 안심서비스는 주로 적외선 센서 기반의 활동량 감지에 의존합니다. 이 방식은 다음과 같은 명확한 한계를 가집니다:
    * **낮은 정확도:** 움직임이 없다고 해서 반드시 응급상황이라 단정할 수 없으며, 건강에 이상이 있어도 움직임이 감지될 수 있습니다.
    * **모호한 정보:** 사회복지사에게 전달되는 정보가 너무 단순하여, 직접 방문하기 전에는 상황의 위급성이나 특성을 파악하기 어렵습니다.

3.  **과중된 사회복지사 업무:** 사회복지사들은 과도한 업무 강도에 시달리고 있으며, 교대 근무자의 26.1%는 주당 51시간 이상 근무합니다. 특히 비수도권 지역의 인력 부족은 심각한 상황입니다. 반복적인 업무를 줄이고 본연의 역할에 집중할 수 있도록 돕는 자동화 시스템이 절실합니다.

## ✨ Our Solution: LifeLine Watch

LifeLine Watch는 현대 기술을 통해 어르신, 사회복지사, 보호자를 연결하는 포괄적인 생태계를 구축하여 이러한 문제들을 해결합니다.

우리 시스템은 웨어러블 기기를 통해 실시간 생체 데이터를 수집하고, AI 모델로 데이터를 분석하여 이상 징후를 감지하며, 연결된 플랫폼(앱 및 웹)을 통해 중요한 정보와 소통 도구를 제공합니다.

### 주요 기능

* **실시간 생체 데이터 수집:** 웨어러블 기기에서 수집한 심박수, 산소포화도, 수면 패턴 등 생체 데이터를 실시간으로 연동합니다.
* **AI 기반 응급상황 자동 탐지:** XGBoost 머신러닝 모델이 수신된 데이터를 분석하여 사용자의 상태를 '정상' 또는 '위험'으로 정확하게 분류합니다.
* **자연어 상태 설명:** 파인튜닝된 LLM 모델이 복잡한 생체 데이터를 명확한 자연어 요약으로 변환하여 사회복지사가 사용자의 상태를 빠르게 이해할 수 있도록 돕습니다.
* **즉각적인 푸시 알림:** 응급 상황 발생 시 Firebase Cloud Messaging(FCM)을 통해 담당 사회복지사의 애플리케이션으로 즉시 푸시 알림을 전송합니다.
* **약 복용 관리:** 스케줄러 기반 시스템이 어르신에게 약 복용 시간을 알려주고, 사회복지사는 웹 포털을 통해 복용 여부를 모니터링할 수 있습니다.
* **실시간 채팅:** WebSocket 기반 채팅 기능으로 어르신(및 보호자)과 사회복지사 간의 직접적인 소통 창구를 제공합니다.
* **사회복지사 전용 종합 웹 포털:** 웹 대시보드를 통해 담당 어르신 목록, 건강 상태, 연락처, 병력, 약 복용 스케줄 등을 종합적으로 관리할 수 있습니다.

---

## 🚀 기술 아키텍처

시스템은 네이버 클라우드 플랫폼(NCP)을 활용한 현대적이고 확장 가능한 클라우드 인프라 위에 구축되었습니다.

### 클라우드 인프라 및 CI/CD
* **플랫폼:** 네이버 클라우드 플랫폼(Naver Cloud Platform)
* **네트워킹:** 쿠버네티스 클러스터, 데이터베이스, 메시지 브로커 서비스를 안전하게 격리하기 위해 다중 VPC 사용
* **컴퓨팅:** NKS(Naver Kubernetes Service)가 백엔드 및 AI 파드를 실행하며, ALB가 로드 밸런싱을 담당
* **CI/CD:** **GitHub Actions**로 도커 이미지를 빌드하고, **NCP 이미지 스토리지**를 레지스트리로 사용하며, **ArgoCD**로 쿠버네티스 클러스터에 자동 배포하는 GitOps 워크플로우를 구축했습니다.

![Cloud Architecture](https://i.imgur.com/nL1M1Gz.png)
*그림: 프로젝트 클라우드 아키텍처*

### AI 및 백엔드 파이프라인
* **AI 모델 파이프라인:**
    1.  웨어러블 기기에서 생체 데이터를 수집합니다.
    2.  **XGBoost 분류기**가 응급 상황 여부를 예측합니다.
    3.  **파인튜닝된 GPT-3.5 Turbo 모델**이 데이터를 기반으로 사용자의 상태에 대한 상세한 자연어 설명을 생성합니다.
* **백엔드 기술:**
    * **프레임워크:** Spring Boot
    * **인증:** Spring Security를 통한 JWT 기반 인증
    * **알림:** 푸시 알림을 위한 Firebase Cloud Messaging(FCM)
    * **실시간 채팅:** 다중 서버 환경에서 안정적인 메시징을 보장하기 위해 **RabbitMQ**를 메시지 브로커로 사용하는 WebSocket 및 STOMP 프로토콜
* **데이터베이스:** MariaDB/MySQL

---

## 💡 핵심 기술

### LLM 데이터 증강
한국어 생체 신호 언어 모델 학습 데이터 부족이라는 핵심적인 문제를 다음과 같이 해결했습니다:
1.  약 4,000개의 실제 데이터로 시작했습니다.
2.  생체 신호에 허용 가능한 범위의 노이즈를 추가했습니다.
3.  생성형 AI(MedGPT)를 사용하여 증강된 데이터에 대한 설명 캡션을 생성했습니다.
4.  이 과정을 통해 데이터셋을 **10만 건 이상**으로 확장하여 효과적인 파인튜닝을 가능하게 했습니다.

### 고도화된 LLM 파인튜닝
표준적인 파인튜닝 방식은 과적합 및 무의미한 출력 반복 문제를 야기했습니다. 우리는 트랜스포머 모델의 **각 어텐션 헤드마다 학습률을 다르게 조절**하는 새로운 접근법을 개발했습니다. 이를 통해 과적합을 방지하고 생성된 텍스트 설명의 일관성과 품질을 획기적으로 개선했습니다.

| 레이어 별 학습률 조절 결과 | 동일 학습률 조절 결과 |
| :--- | :--- |
| ![Good Output](https://i.imgur.com/p1h3t1Z.png) | ![Bad Output](https://i.imgur.com/4q6F45w.png) |
| *맥락에 맞고 실행 가능한 명확한 설명.* | *반복적이고 의미가 통하지 않는 텍스트.* |

---

## 📱 애플리케이션 및 웹 UI

### 모바일 애플리케이션 (어르신 및 보호자용)
앱은 주요 기능에 쉽게 접근할 수 있도록 단순한 UI를 특징으로 합니다. 사용자는 로그인 시 역할(사회복지사 vs 본인/보호자)에 따라 구분됩니다.

![App Login](https://i.imgur.com/83pIY4y.png)
![App Main Screen](https://i.imgur.com/2U54U5s.png)
*그림: 역할 선택 및 메인 대시보드 애플리케이션 UI*

### 웹 포털 (사회복지사용)
웹 포털을 통해 사회복지사는 담당 어르신들을 효율적으로 관리할 수 있습니다.

![Web Login](https://i.imgur.com/2R6oG1g.png)
![Web Dashboard](https://i.imgur.com/n14aT5X.png)
*그림: 웹 포털 로그인 및 메인 대시보드 UI*

---

## 🛠 시작하기

로컬 환경에서 프로젝트를 설정하고 실행하는 방법입니다.

### 사전 요구사항

* Java 17+
* Node.js & npm
* Android Studio
* 네이버 클라우드 플랫폼 계정

### 설치

1.  **리포지토리 클론**
    ```sh
    git clone [https://github.com/your_username/lifeline-watch.git](https://github.com/your_username/lifeline-watch.git)
    ```
2.  **백엔드 설정**
    * `backend` 디렉토리로 이동합니다.
    * `application.yml` 파일에 데이터베이스 및 클라우드 자격 증명을 설정합니다.
    * Spring Boot 애플리케이션을 실행합니다.
3.  **프론트엔드 설정**
    * `frontend` 디렉토리로 이동합니다.
    * NPM 패키지를 설치합니다: `npm install`
    * 개발 서버를 시작합니다: `npm start`
4.  **안드로이드 앱**
    * Android Studio에서 `android` 프로젝트를 엽니다.
    * 프로젝트를 빌드하고 에뮬레이터 또는 실제 기기에서 실행합니다.

---

## 🔮 향후 추진계획

* **전체 서비스 배포:** 각 파트별 개발이 완료되었으므로 모든 기능을 연동하여 서비스 배포를 추진할 예정입니다.
* **약 복용 시스템 고도화:** 현재 미비한 약 복용 시스템의 데이터베이스를 구축하고 프론트엔드 알림 기능을 구현할 예정입니다.
* **보안 강화:** 메시지 인증 기능을 추가하여 보안성을 강화할 예정입니다.
* **사업화:** 전체 서비스 개발 완료 후 스타트업을 창업하여 정부 관련 부처와의 계약을 성사시키는 것을 최종 목표로 합니다.

---
